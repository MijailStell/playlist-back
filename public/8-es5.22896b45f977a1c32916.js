!function(){function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var o=0;o<n.length;o++){var e=n[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function o(t,o,e){return o&&n(t.prototype,o),e&&n(t,e),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{VOwm:function(n,e,r){"use strict";r.r(e),r.d(e,"LoginModule",function(){return E});var i,a=r("tyNb"),c=r("3Pt+"),l=r("3Rfk"),m=r("fXoL"),g=r("6GTT"),s=r("LRne"),d=((i=function(){function n(){t(this,n),this.roomList=[{id:1,name:"Sala 001"},{id:2,name:"Sala 002"},{id:3,name:"Sala 003"}]}return o(n,[{key:"getRoomList",value:function(){return Object(s.a)(this.roomList)}}]),n}()).\u0275fac=function(t){return new(t||i)},i.\u0275prov=m.Gb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),f=r("7dP1"),b=r("Wp6s"),u=r("kmnG"),p=r("qFsG"),O=r("ofXK"),P=r("d3UM"),h=r("bTqV"),v=r("FKr1"),C=["emailElement"];function M(t,n){1&t&&(m.Pb(0,"mat-error"),m.Pb(1,"mat-hint"),m.sc(2,"Campo obligatorio"),m.Ob(),m.Ob())}function _(t,n){1&t&&(m.Pb(0,"mat-error"),m.Pb(1,"mat-hint"),m.sc(2,"Correo inv\xe1lido"),m.Ob(),m.Ob())}function y(t,n){1&t&&(m.Pb(0,"mat-error"),m.Pb(1,"mat-hint"),m.sc(2,"Campo obligatorio"),m.Ob(),m.Ob())}function L(t,n){if(1&t&&(m.Pb(0,"mat-option",19),m.sc(1),m.Ob()),2&t){var o=n.$implicit;m.fc("value",o.id),m.zb(1),m.uc(" ",o.name," ")}}var w,R,S,I=((w=function(){function n(o,e,r,i,a){t(this,n),this.globalService=o,this.dataService=e,this.authService=r,this.router=i,this._formBuilder=a,this.roomList=[]}return o(n,[{key:"ngOnInit",value:function(){this.setForm(),this.loadRoomList()}},{key:"ngAfterViewInit",value:function(){var t=this;setTimeout(function(){t.emailElement.nativeElement.focus()},0)}},{key:"setForm",value:function(){var t=this.globalService.getValueKeyStorage(l.a.Email);this.loginForm=this._formBuilder.group({email:[t,[c.l.required,c.l.email,c.l.minLength(6),c.l.maxLength(50)]],password:["",[c.l.required,c.l.minLength(6),c.l.maxLength(50)]],roomId:["",[c.l.required,c.l.min(1),c.l.max(3)]]})}},{key:"loadRoomList",value:function(){var t=this;this.dataService.getRoomList().subscribe(function(n){t.roomList=n})}},{key:"login",value:function(){var t=this;if(this.loginForm.valid){var n=this.roomList.find(function(n){return n.id===t.loginForm.value.roomId});this.loginForm.value.email=this.loginForm.value.email.toLowerCase(),this.authService.login(this.loginForm.value).subscribe(function(o){t.globalService.addKeyStorage(l.a.RoomId,n.id),t.globalService.addKeyStorage(l.a.RoomName,n.name),t.globalService.addKeyStorage(l.a.UId,o.uid),t.globalService.addKeyStorage(l.a.Username,o.username),t.globalService.addKeyStorage(l.a.GenderId,o.genderId),t.globalService.addKeyStorage(l.a.LoginStatus,!0),t.router.navigate([l.a.RutaBase])})}}}]),n}()).\u0275fac=function(t){return new(t||w)(m.Kb(g.a),m.Kb(d),m.Kb(f.a),m.Kb(a.a),m.Kb(c.b))},w.\u0275cmp=m.Eb({type:w,selectors:[["app-login"]],viewQuery:function(t,n){var o;1&t&&m.vc(C,!0),2&t&&m.hc(o=m.Yb())&&(n.emailElement=o.first)},decls:32,vars:6,consts:[[1,"login-content"],[1,"login-card"],[1,"d-flex","flex-direction-column","align-items-center",3,"formGroup","ngSubmit"],[1,"card-header"],[1,"card-content"],[1,"w-100"],["matPrefix",""],["src","./assets/img/icon-email.svg","alt",""],["matInput","","type","text","placeholder","Correo","formControlName","email"],["emailElement",""],[4,"ngIf"],["src","./assets/img/icon-pass.svg","alt",""],["matInput","","type","password","placeholder","Clave","formControlName","password"],["src","./assets/img/icon-room.svg","alt",""],["formControlName","roomId"],[3,"value",4,"ngFor","ngForOf"],["type","submit","mat-raised-button","",1,"btn-login",3,"disabled"],[1,"mt-2"],["routerLink","/auth/register",1,"register"],[3,"value"]],template:function(t,n){1&t&&(m.Pb(0,"div",0),m.Pb(1,"mat-card",1),m.Pb(2,"form",2),m.Xb("ngSubmit",function(){return n.login()}),m.Pb(3,"mat-card-header",3),m.Pb(4,"mat-card-title"),m.sc(5,"YouTube Room"),m.Ob(),m.Ob(),m.Pb(6,"mat-card-content",4),m.Pb(7,"mat-form-field",5),m.Pb(8,"span",6),m.Lb(9,"img",7),m.Ob(),m.Lb(10,"input",8,9),m.rc(12,M,3,0,"mat-error",10),m.rc(13,_,3,0,"mat-error",10),m.Ob(),m.Pb(14,"mat-form-field",5),m.Pb(15,"span",6),m.Lb(16,"img",11),m.Ob(),m.Lb(17,"input",12),m.rc(18,y,3,0,"mat-error",10),m.Ob(),m.Pb(19,"mat-form-field",5),m.Pb(20,"span",6),m.Lb(21,"img",13),m.Ob(),m.Pb(22,"mat-label"),m.sc(23,"Room"),m.Ob(),m.Pb(24,"mat-select",14),m.rc(25,L,2,2,"mat-option",15),m.Ob(),m.Ob(),m.Ob(),m.Pb(26,"button",16),m.sc(27,"Ingresar"),m.Ob(),m.Pb(28,"div",17),m.sc(29," \xbfNo tienes cuenta? "),m.Pb(30,"a",18),m.sc(31,"Reg\xedstrate"),m.Ob(),m.Ob(),m.Ob(),m.Ob(),m.Ob()),2&t&&(m.zb(2),m.fc("formGroup",n.loginForm),m.zb(10),m.fc("ngIf",n.loginForm.get("email").hasError("required")),m.zb(1),m.fc("ngIf",n.loginForm.get("email").hasError("email")),m.zb(5),m.fc("ngIf",n.loginForm.get("password").hasError("required")),m.zb(7),m.fc("ngForOf",n.roomList),m.zb(1),m.fc("disabled",!n.loginForm.valid))},directives:[b.a,c.m,c.i,c.d,b.d,b.g,b.c,u.c,u.i,p.a,c.a,c.h,c.c,O.k,u.g,P.a,O.j,h.a,a.b,u.b,u.f,v.g],styles:[".login-content[_ngcontent-%COMP%]{display:flex;top:0}.login-card[_ngcontent-%COMP%]{background:#8fc5ec;background:linear-gradient(90deg,rgba(143,197,236,.9),rgba(0,155,219,.9));width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;border-radius:0;box-shadow:none!important;font-family:MYRIADPRO-REGULAR}.login-card[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;margin-bottom:30px}.login-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{margin-bottom:25px}.login-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{color:#fff;font-size:25px}.login-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:MYRIADPRO-BOLD}.login-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.login-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{font-size:16px}.login-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#fff}.login-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;margin-right:10px;margin-bottom:-5px}.login-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .roomItem[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff!important}.login-card[_ngcontent-%COMP%]   .btn-login[_ngcontent-%COMP%]{width:100%;margin-top:2rem}.login-card[_ngcontent-%COMP%]   .register[_ngcontent-%COMP%]{color:#eee;font-family:MYRIADPRO-REGULAR;cursor:pointer}[_nghost-%COMP%]     .mat-form-field-label{color:#fff!important;font-family:MYRIADPRO-REGULAR!important}[_nghost-%COMP%]    .mat-form-field-ripple, [_nghost-%COMP%]    .mat-form-field-underline{background-color:#fff!important}[_nghost-%COMP%]     .mat-focused .mat-form-field-label{color:#fff!important}  .forgotpassForm{display:flex;flex-direction:column}  .forgotpassForm>*{width:100%}"]}),w),x=[{path:"",component:I}],F=((R=function n(){t(this,n)}).components=[I],R.\u0275mod=m.Ib({type:R}),R.\u0275inj=m.Hb({factory:function(t){return new(t||R)},imports:[[a.c.forChild(x)],a.c]}),R),k=r("PCNd"),E=((S=function n(){t(this,n)}).\u0275mod=m.Ib({type:S}),S.\u0275inj=m.Hb({factory:function(t){return new(t||S)},imports:[[F,k.a]]}),S)}}])}();
//# sourceMappingURL=8-es5.22896b45f977a1c32916.js.map