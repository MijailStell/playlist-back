(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{VOwm:function(t,o,n){"use strict";n.r(o),n.d(o,"LoginModule",function(){return w});var e=n("tyNb"),r=n("3Pt+"),i=n("3Rfk"),a=n("fXoL"),c=n("6GTT"),l=n("LRne");let m=(()=>{class t{constructor(){this.roomList=[{id:1,name:"Sala 001"},{id:2,name:"Sala 002"},{id:3,name:"Sala 003"}]}getRoomList(){return Object(l.a)(this.roomList)}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=a.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var s=n("7dP1"),g=n("Wp6s"),d=n("kmnG"),b=n("qFsG"),f=n("ofXK"),u=n("d3UM"),O=n("bTqV"),p=n("FKr1");const P=["emailElement"];function h(t,o){1&t&&(a.Pb(0,"mat-error"),a.Pb(1,"mat-hint"),a.sc(2,"Campo obligatorio"),a.Ob(),a.Ob())}function C(t,o){1&t&&(a.Pb(0,"mat-error"),a.Pb(1,"mat-hint"),a.sc(2,"Correo inv\xe1lido"),a.Ob(),a.Ob())}function M(t,o){1&t&&(a.Pb(0,"mat-error"),a.Pb(1,"mat-hint"),a.sc(2,"Campo obligatorio"),a.Ob(),a.Ob())}function _(t,o){if(1&t&&(a.Pb(0,"mat-option",19),a.sc(1),a.Ob()),2&t){const t=o.$implicit;a.fc("value",t.id),a.zb(1),a.uc(" ",t.name," ")}}let v=(()=>{class t{constructor(t,o,n,e,r){this.globalService=t,this.dataService=o,this.authService=n,this.router=e,this._formBuilder=r,this.roomList=[]}ngOnInit(){this.setForm(),this.loadRoomList()}ngAfterViewInit(){setTimeout(()=>{this.emailElement.nativeElement.focus()},0)}setForm(){const t=this.globalService.getValueKeyStorage(i.a.Email);this.loginForm=this._formBuilder.group({email:[t,[r.l.required,r.l.email,r.l.minLength(6),r.l.maxLength(50)]],password:["",[r.l.required,r.l.minLength(6),r.l.maxLength(50)]],roomId:["",[r.l.required,r.l.min(1),r.l.max(3)]]})}loadRoomList(){this.dataService.getRoomList().subscribe(t=>{this.roomList=t})}login(){if(this.loginForm.valid){const t=this.roomList.find(t=>t.id===this.loginForm.value.roomId);this.loginForm.value.email=this.loginForm.value.email.toLowerCase(),this.authService.login(this.loginForm.value).subscribe(o=>{this.globalService.addKeyStorage(i.a.RoomId,t.id),this.globalService.addKeyStorage(i.a.RoomName,t.name),this.globalService.addKeyStorage(i.a.UId,o.uid),this.globalService.addKeyStorage(i.a.Username,o.username),this.globalService.addKeyStorage(i.a.GenderId,o.genderId),this.globalService.addKeyStorage(i.a.LoginStatus,!0),this.router.navigate([i.a.RutaBase])})}}}return t.\u0275fac=function(o){return new(o||t)(a.Kb(c.a),a.Kb(m),a.Kb(s.a),a.Kb(e.a),a.Kb(r.b))},t.\u0275cmp=a.Eb({type:t,selectors:[["app-login"]],viewQuery:function(t,o){if(1&t&&a.vc(P,!0),2&t){let t;a.hc(t=a.Yb())&&(o.emailElement=t.first)}},decls:32,vars:6,consts:[[1,"login-content"],[1,"login-card"],[1,"d-flex","flex-direction-column","align-items-center",3,"formGroup","ngSubmit"],[1,"card-header"],[1,"card-content"],[1,"w-100"],["matPrefix",""],["src","./assets/img/icon-email.svg","alt",""],["matInput","","type","text","placeholder","Correo","formControlName","email"],["emailElement",""],[4,"ngIf"],["src","./assets/img/icon-pass.svg","alt",""],["matInput","","type","password","placeholder","Clave","formControlName","password"],["src","./assets/img/icon-room.svg","alt",""],["formControlName","roomId"],[3,"value",4,"ngFor","ngForOf"],["type","submit","mat-raised-button","",1,"btn-login",3,"disabled"],[1,"mt-2"],["routerLink","/auth/register",1,"register"],[3,"value"]],template:function(t,o){1&t&&(a.Pb(0,"div",0),a.Pb(1,"mat-card",1),a.Pb(2,"form",2),a.Xb("ngSubmit",function(){return o.login()}),a.Pb(3,"mat-card-header",3),a.Pb(4,"mat-card-title"),a.sc(5,"YouTube Room"),a.Ob(),a.Ob(),a.Pb(6,"mat-card-content",4),a.Pb(7,"mat-form-field",5),a.Pb(8,"span",6),a.Lb(9,"img",7),a.Ob(),a.Lb(10,"input",8,9),a.rc(12,h,3,0,"mat-error",10),a.rc(13,C,3,0,"mat-error",10),a.Ob(),a.Pb(14,"mat-form-field",5),a.Pb(15,"span",6),a.Lb(16,"img",11),a.Ob(),a.Lb(17,"input",12),a.rc(18,M,3,0,"mat-error",10),a.Ob(),a.Pb(19,"mat-form-field",5),a.Pb(20,"span",6),a.Lb(21,"img",13),a.Ob(),a.Pb(22,"mat-label"),a.sc(23,"Room"),a.Ob(),a.Pb(24,"mat-select",14),a.rc(25,_,2,2,"mat-option",15),a.Ob(),a.Ob(),a.Ob(),a.Pb(26,"button",16),a.sc(27,"Ingresar"),a.Ob(),a.Pb(28,"div",17),a.sc(29," \xbfNo tienes cuenta? "),a.Pb(30,"a",18),a.sc(31,"Reg\xedstrate"),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob()),2&t&&(a.zb(2),a.fc("formGroup",o.loginForm),a.zb(10),a.fc("ngIf",o.loginForm.get("email").hasError("required")),a.zb(1),a.fc("ngIf",o.loginForm.get("email").hasError("email")),a.zb(5),a.fc("ngIf",o.loginForm.get("password").hasError("required")),a.zb(7),a.fc("ngForOf",o.roomList),a.zb(1),a.fc("disabled",!o.loginForm.valid))},directives:[g.a,r.m,r.i,r.d,g.d,g.g,g.c,d.c,d.i,b.a,r.a,r.h,r.c,f.k,d.g,u.a,f.j,O.a,e.b,d.b,d.f,p.g],styles:[".login-content[_ngcontent-%COMP%]{display:flex;top:0}.login-card[_ngcontent-%COMP%]{background:#8fc5ec;background:linear-gradient(90deg,rgba(143,197,236,.9),rgba(0,155,219,.9));width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;border-radius:0;box-shadow:none!important;font-family:MYRIADPRO-REGULAR}.login-card[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;margin-bottom:30px}.login-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{margin-bottom:25px}.login-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{color:#fff;font-size:25px}.login-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:MYRIADPRO-BOLD}.login-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.login-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{font-size:16px}.login-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#fff}.login-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;margin-right:10px;margin-bottom:-5px}.login-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .roomItem[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff!important}.login-card[_ngcontent-%COMP%]   .btn-login[_ngcontent-%COMP%]{width:100%;margin-top:2rem}.login-card[_ngcontent-%COMP%]   .register[_ngcontent-%COMP%]{color:#eee;font-family:MYRIADPRO-REGULAR;cursor:pointer}[_nghost-%COMP%]     .mat-form-field-label{color:#fff!important;font-family:MYRIADPRO-REGULAR!important}[_nghost-%COMP%]    .mat-form-field-ripple, [_nghost-%COMP%]    .mat-form-field-underline{background-color:#fff!important}[_nghost-%COMP%]     .mat-focused .mat-form-field-label{color:#fff!important}  .forgotpassForm{display:flex;flex-direction:column}  .forgotpassForm>*{width:100%}"]}),t})();const L=[{path:"",component:v}];let y=(()=>{class t{}return t.components=[v],t.\u0275mod=a.Ib({type:t}),t.\u0275inj=a.Hb({factory:function(o){return new(o||t)},imports:[[e.c.forChild(L)],e.c]}),t})();var R=n("PCNd");let w=(()=>{class t{}return t.\u0275mod=a.Ib({type:t}),t.\u0275inj=a.Hb({factory:function(o){return new(o||t)},imports:[[y,R.a]]}),t})()}}]);
//# sourceMappingURL=8-es2015.22896b45f977a1c32916.js.map